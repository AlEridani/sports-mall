<b:beans xmlns="http://www.springframework.org/schema/security"
	xmlns:b="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd
						http://www.springframework.org/schema/security https://www.springframework.org/schema/security/spring-security.xsd">

	<http pattern="/" security="none"></http>
	<http pattern="/member" security="none"></http>
	<http pattern="/member/checkid" security="none"></http>
	<http pattern="/member/register" security="none"></http>
	

	<http auto-config="true" use-expressions="true">
		<form-login login-page="/member/loginForm"
			login-processing-url="/member/login"
			default-target-url="/member/info"
			authentication-failure-url="/member/loginForm?error"
			username-parameter="id" password-parameter="password" />
	</http>
	
<b:bean id="PasswordEncoder" class="org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder" />
<b:bean id="CustomUserDetailService" class="edu.spring.mall.service.CustomUserDetailService" />


<authentication-manager>
	<authentication-provider user-service-ref="CustomUserDetailService">
		<password-encoder ref="PasswordEncoder" />
	</authentication-provider>
</authentication-manager>
</b:beans>

<!-- 이 부분을 <b:beans> 밖으로 이동합니다 -->